const miModulo=(()=>{"use strict";let e=[],r=["C","D","H","S"],t=["A","J","Q","K"],n=document.querySelector("#jugador-cartas"),a=document.querySelector("#jugador-puntos"),i=document.querySelector("#computadora-cartas"),o=document.querySelector("#computadora-puntos"),s=document.querySelector("#btnPedir"),l=document.querySelector("#btnDetener");document.querySelector("#btnNuevo");let d=()=>u(),u=()=>{e=[];for(let n=2;n<=10;n++)for(let a of r)e.push(n+a);for(let i of t)for(let o of r)e.push(i+o);return _.shuffle(e)},c=e=>{let r=e.substring(0,e.length-1);return isNaN(r)?"A"===r?11:10:1*r},T=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},g=(e,r)=>{r?a.innerText=Number(a.innerText)+c(e):o.innerText=Number(o.innerText)+c(e)},$=(e,r)=>{r?n.innerHTML+=`<img src="assets/cartas/${e}.png" class="carta">`:i.innerHTML+=`<img src="assets/cartas/${e}.png" class="carta">`},x=e=>{do{let r=T();if($(r,!1),g(r,!1),e>21)break}while(Number(o.innerText)<e&&e<=21);setTimeout(()=>{Number(o.innerText)===Number(e)?alert("Nadie gana "):e>21?alert("Computadora gana"):Number(o.innerText)>21?alert("Jugador gana"):alert("Computadora gana")},10)},b=()=>{let e=T();$(e,!0),g(e,!0),Number(a.innerText)>21?(console.warn("Lo siento, perdiste"),s.disabled=!0,l.disabled=!0,x(a.innerText)):21===Number(a.innerText)&&(console.warn("21, genial!"),s.disabled=!0,l.disabled=!0,x(a.innerText))},p=()=>{console.clear(),d(),a.innerText=0,o.innerText=0,n.innerHTML="",i.innerHTML="",s.disabled=!1,l.disabled=!1},f=()=>{s.disabled=!0,l.disabled=!0,x(a.innerText)};return{nuevoJuego:p,nuevaCarta:b,detener:f}})();